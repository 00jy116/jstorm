<?xml version="1.0" encoding="UTF-8"?>
<assembly>
	<id>tgz</id>
	<baseDirectory>aloha-run</baseDirectory>
	<formats>
		<format>tar.gz</format>
	</formats>
	<files>
		<file>
			<source>jstorm-server/bin/jstorm.py</source>
			<outputDirectory>/bin</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>aloha</destName>
		</file>
		<file>
			<source>jstorm-server/bin/start.sh</source>
			<outputDirectory>/bin</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>start.sh</destName>
		</file>
		<file>
			<source>jstorm-server/bin/stop.sh</source>
			<outputDirectory>/bin</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>stop.sh</destName>
		</file>
		<file>
			<source>./version</source>
			<outputDirectory>./</outputDirectory>
			<destName>RELEASE</destName>
		</file>
	</files>
	<fileSets>
		<fileSet>
			<directory>jstorm-server/conf</directory>
			<outputDirectory>/conf</outputDirectory>
			<includes>
				<include>**/*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>jstorm-server/logs</directory>
			<outputDirectory>/logs</outputDirectory>
		</fileSet>

	</fileSets>
	<moduleSets>
		<moduleSet>

			<!-- <includes> <include>com.alipay.dw:jstorm-client</include> <include>com.alipay.dw:jstorm-client-extension</include> 
				<include>com.alipay.dw:jstorm-server</include> </includes> -->
			<binaries>
				<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
				<outputDirectory>./</outputDirectory>
				<unpack>false</unpack>
				<dependencySets>
					<dependencySet>
						<excludes>
							<exclude>com.alibaba.jstorm:jstorm-client</exclude>
							<exclude>com.alibaba.jstorm:jstorm-client-extension</exclude>
						</excludes>
						<outputDirectory>lib</outputDirectory>
					</dependencySet>
				</dependencySets>
			</binaries>
		</moduleSet>
	</moduleSets>

</assembly>
